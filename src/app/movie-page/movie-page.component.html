<div class="main-content">
  <div class="main-content-inner-part-book-page">
    <div class="book-upper-part">
      <div class="book-upper-part-picture">
        <img src="{{img}}"
             alt="">
        <div>{{ticketPrice}}$</div>
        <button (click)="openOrderModal()">Add to cart</button>
      </div>
      <div class="book-upper-part-main-content">
        <div class="book-upper-part-main-content-title">{{name}}</div>
        <hr>
        <div class="book-upper-part-main-content-author">
          By (writer) {{writer}}
        </div>
        <div class="book-upper-part-main-content-description">
          <textarea name=""
                    id=""
                    readonly>{{description}}</textarea>

        </div>
      </div>
    </div>

    <!-- <div class="movie-sitting-part">
      <div class="movie-container">
        <label>Pick a teather: </label>
        <select [(ngModel)]="selectedLocation"
                id="movie">
          <option [value]="location"
                  *ngFor="let location of locations">{{location}}</option>
        </select>

        <label>Pick a Time: </label>
        <select [(ngModel)]="selectedTime"
                id="movie">
          <option [value]="time"
                  *ngFor="let time of times">{{time}}</option>
        </select>

        <ul class="showcase">
          <li>
            <div class="seat"></div>
            <small>N/A</small>
          </li>
          <li>
            <div class="seat selected"></div>
            <small>Selected</small>
          </li>
          <li>
            <div class="seat occupied"></div>
            <small>Occupied</small>
          </li>
        </ul>

        <div class="container">
          <div class="screen"></div>

          <div class="row">
            <div class="seat"
                 *ngFor="let number of [1,2,3,4,5,6,7,8]"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)"></div>
          </div>


          <div class="row">
            <div *ngFor="let number of [9,10,11,12,13,14,15,16]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)"></div>
          </div>


          <div class="row">
            <div *ngFor="let number of [17,18,19,20,21,22,23,24]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)"></div>
          </div>


          <div class="row">
            <div *ngFor="let number of [25,26,27,28,29,30,31,32]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)"></div>
          </div>


          <div class="row">
            <div *ngFor="let number of [33,34,35,36,37,38,39,40]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)"></div>
          </div>


          <div class="row">
            <div *ngFor="let number of [41,42,43,44,45,46,47,48]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)"></div>
          </div>


          <div class="row">
            <div *ngFor="let number of [49,50,51,52,53,54,55,56]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)">
            </div>
          </div>
          <div style="margin-top: 10px;">Teather: {{selectedLocation}}</div>
          <div>Time: {{selectedTime}}</div>
          <div>Seats:
            <span *ngFor="let seat of selectedSeats">{{seat}},</span>
          </div>
          <div>Price: {{selectedSeats.length * ticketPrice}}$</div>
          <button (click)="onClickAddToCartButton()">Order</button>

        </div>
      </div>
    </div> -->

    <div class="book-middle-part">
      <div class="book-middle-part-title">Movie details</div>
      <hr>
      <div class="book-details-container">
        <div class="book-details-left">
          <div><b>Genre: </b> {{genre}}</div>
          <div><b>Production: </b> {{production}}</div>

        </div>
        <div class="book-details-right">
          <div><b>Length: </b> {{length}}</div>
          <div><b>Language: </b>English</div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="myModal"
     *ngIf="isOrderModalOpen"
     class="modal">
  <div class="modal-content">
    <span (click)="onClickCloseModalOrder()"
          class="close">&times;</span>
    <div class="movie-sitting-part">
      <div class="movie-container">
        <!-- <label>Pick a teather: </label>
        <select [(ngModel)]="selectedLocation"
                id="movie">
          <option [value]="location"
                  *ngFor="let location of locations">{{location}}</option>
        </select> -->

        <label>Pick a Time: </label>
        <select [(ngModel)]="selectedTime"
                id="movie">
          <option [value]="time"
                  *ngFor="let time of screening.times">{{time}}</option>
        </select>

        <ul class="showcase">
          <li>
            <div class="seat"></div>
            <small>N/A</small>
          </li>
          <li>
            <div class="seat selected"></div>
            <small>Selected</small>
          </li>
          <li>
            <div class="seat occupied"></div>
            <small>Occupied</small>
          </li>
        </ul>

        <div class="container">
          <div class="screen"></div>

          <div *ngIf='isExistedRow(1)'
               class="row">
            <div class="seat"
                 *ngFor="let number of [1,2,3,4,5,6,7,8,9,10]"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)"></div>
          </div>


          <div *ngIf='isExistedRow(2)'
               class="row">
            <div *ngFor="let number of [11,12,13,14,15,16,17,18,19,20]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)"></div>
          </div>


          <div *ngIf='isExistedRow(3)'
               class="row">
            <div *ngFor="let number of [21,22,23,24,25,26,27,28,29,30]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)"></div>
          </div>


          <div *ngIf='isExistedRow(4)'
               class="row">
            <div *ngFor="let number of [31,32,33,34,35,36,37,38,39,40]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)"></div>
          </div>


          <div *ngIf='isExistedRow(5)'
               class="row">
            <div *ngFor="let number of [41,42,43,44,45,46,47,48,49,50]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)"></div>
          </div>


          <div *ngIf='isExistedRow(6)'
               class="row">
            <div *ngFor="let number of [51,52,53,54,55,56,57,58,59,60]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)"></div>
          </div>


          <div *ngIf='isExistedRow(7)'
               class="row">
            <div *ngFor="let number of [61,62,63,64,65,66,67,68,69,70]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)">
            </div>
          </div>

          <div *ngIf='isExistedRow(8)'
               class="row">
            <div *ngFor="let number of [71,72,73,74,75,76,77,78,79,80]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)">
            </div>
          </div>

          <div *ngIf='isExistedRow(9)'
               class="row">
            <div *ngFor="let number of [81,82,83,84,85,86,87,88,89,90]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)">
            </div>
          </div>

          <div *ngIf='isExistedRow(10)'
               class="row">
            <div *ngFor="let number of [91,92,93,94,95,96,97,98,99,100]"
                 class="seat"
                 [ngClass]="isOccupied(number)"
                 (click)="selectSeat(number,$event)">
            </div>
          </div>


          <div style="margin-top: 10px;">Teather: {{selectedLocation}}</div>
          <div>Time: {{selectedTime}}</div>
          <div>Seats:
            <span *ngFor="let seat of selectedSeats">{{seat}},</span>
          </div>
          <div>Price: {{selectedSeats.length * ticketPrice}}$</div>
          <button (click)="onClickAddToCartButton()">Order</button>
          <!-- <p class="text">
                  You have selected <span id="count">0</span> seats for the total price of Rs. <span id="total">0</span>
                </p> -->
        </div>
      </div>
    </div>
  </div>
</div>

<div id="myModal"
     *ngIf="isModalOpen"
     class="modal">
  <div class="modal-content">
    <span (click)="onClickCloseModal()"
          class="close">&times;</span>
    <p>You must select a Movie teather, time and seats in order to checkout.</p>
  </div>
</div>
